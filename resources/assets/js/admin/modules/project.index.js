/*
 * Author: Damian Schwyrz <mail@damianschwyrz.de>
 * URL: https://www.damianschwyrz.de
 * Copyright (c) 2018.
 */

$(function () {
    $(".destroy-project").click(function (e) {
        e.preventDefault();

        if (!actionConfirmed()) {
            return false;
        }

        var id = $(this).data('id');

        $.ajax({
            url: $(this).attr("href"),
            type: 'DELETE',
            data: {id: id},
            success: function (result) {
                $(".project-" + id).fadeOut();
            },
            error: function (result) {
                console.log(result);
            }
        });
    });


    $(".archive-project").click(function (e) {
        e.preventDefault();

        var id = $(this).data('id');

        $.ajax({
            url: $(this).attr("href"),
            type: 'PATCH',
            data: {id: id},
            success: function (result) {
                $(".project-" + id).fadeOut();
            },
            error: function (result) {
                console.log(result);
            }
        });
    });


    $("#project_name_creating").on('keyup',function() {
        var name = $(this).val();
        $("#project_base_domains").val(name);
        $("#project_other_domains").val(name);
    });

});